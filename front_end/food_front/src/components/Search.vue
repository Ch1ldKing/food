<!-- <template>
    <div class="container">
      <div class="search-bar">
        <input type="text" class="search-input" placeholder="Search dish..." />
        <button class="search-button">
          ğŸ”
        </button>
      </div>
      <div class="button-container">
        <button v-for="(recipe, index) in recipes" 
                :key="index" 
                :id="'button' + (index + 1)" 
                :name="'button' + (index + 1)" 
                class="recipe-button">
          {{ recipe.recipe }}
        </button>
      </div>
    </div>
</template>
  
<script lang="'ts">
import {useRecipeStore} from '@/stores/recipeStore';
import {toRefs, defineComponent, onMounted} from 'vue';

export default defineComponent({
    name: 'Search',
    setup() {
        const recipeStore = useRecipeStore();
        const {recipes} = toRefs(recipeStore);
        return {
            recipes
        };
    },
});

</script>

<style scoped>
.container {
  display: flex;
  flex-direction: column; /* å‚ç›´æ–¹å‘æ’åˆ—å­å…ƒç´  */
  align-items: center; /* å­å…ƒç´ å±…ä¸­å¯¹é½ */
  width: 100%; /* å®½åº¦100% */
  padding: 20px; /* å†…è¾¹è·20px */
  overflow-y: hidden; /* ç¦ç”¨å‚ç›´æ»šåŠ¨ */
}

.search-bar {
  display: flex;
  align-items: center; /* å­å…ƒç´ å±…ä¸­å¯¹é½ */
  width: 100%; /* å®½åº¦100% */
  max-width: 500px; /* æœ€å¤§å®½åº¦500px */
  margin-top: 10px;
  margin-bottom: 10px; /* å°†æœç´¢æ¡†åº•éƒ¨å¤–è¾¹è·ä¸º10px */
}

.search-input {
  flex-grow: 1; /* è‡ªåŠ¨æ‰©å±•å®½åº¦ */
  padding: 10px; /* å†…è¾¹è·10px */
  font-size: 16px; /* å­—ä½“å¤§å°16px */
  border: 1px solid #ccc; /* è¾¹æ¡†ä¸º1pxå®çº¿ç°è‰² */
  border-radius: 5px 0 0 5px; /* è¾¹æ¡†åœ†è§’ */
}

.search-button {
  margin-top: 0px;
  padding: 10px; /* å†…è¾¹è·10px */
  font-size: 16px; /* å­—ä½“å¤§å°16px */
  border: 0px solid #ccc; /* è¾¹æ¡†ä¸º1pxå®çº¿ç°è‰² */
  border-left: none; /* å·¦è¾¹æ¡†å–æ¶ˆ */
  background-color: #c7e7fc; /* èƒŒæ™¯é¢œè‰²æ·¡è“è‰² */
  color: white; /* æ–‡å­—é¢œè‰²ç™½è‰² */
  border-radius: 0 5px 5px 0; /* è¾¹æ¡†åœ†è§’ */
  cursor: pointer; /* é¼ æ ‡æŒ‡é’ˆæ ·å¼ä¸ºæ‰‹å‹ */
}

.button-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 2px; /* æŒ‰é’®ä¹‹é—´çš„é—´è· */
  width: 100%;
  margin-top: 18px; /* å°†æŒ‰é’®å®¹å™¨é¡¶éƒ¨å¤–è¾¹è·ä¸º18px */
  margin-left: -25px; /* è´Ÿè¾¹è·æ¥æŠµæ¶ˆæŒ‰é’®è‡ªå¸¦çš„å·¦è¾¹è· */
  margin-right: -25px; /* è´Ÿè¾¹è·æ¥æŠµæ¶ˆæŒ‰é’®è‡ªå¸¦çš„å³è¾¹è· */

  max-height: 800px; /* è®¾ç½®æœ€å¤§é«˜åº¦ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´ */
  overflow-y: auto; /* å¯ç”¨å‚ç›´æ»šåŠ¨ */
}

.recipe-button {
  width: calc(100% - 50px); /* æŒ‰é’®å®½åº¦ä¸ºé¡µé¢å®½åº¦å‡å»ä¸¤ä¾§è¾¹è·çš„æ€»å’Œ */
  margin: 5px 25px; /* ä¸Šä¸‹é—´è·ä¸º5pxï¼Œå·¦å³é—´è·ä¸º25px */
  padding: 10px; /* å†…è¾¹è·10px */
  font-size: 14px; /* å­—ä½“å¤§å°16px */
  color: #000000; /* æ–‡å­—é¢œè‰²é»‘è‰² */
  background-color: #eff1f1; /* èƒŒæ™¯é¢œè‰²æµ…ç°è‰² */
  border: none; /* ç§»é™¤æŒ‰é’®çš„è¾¹æ¡† */
  border-radius: 5px; /* è¾¹æ¡†åœ†è§’ */
  cursor: pointer; /* é¼ æ ‡æŒ‡é’ˆæ ·å¼ä¸ºæ‰‹å‹ */
  text-align: center; /* æ–‡å­—å±…ä¸­å¯¹é½ */
  transition: border-color 0.3s ease; /* æ·»åŠ è¾¹æ¡†é¢œè‰²è¿‡æ¸¡æ•ˆæœ */

  box-shadow: 0px 4px 6px rgba(0, 0, 0.1, 0.1); /* æ·»åŠ é˜´å½±æ•ˆæœ */
}

.recipe-button:focus {
  outline: none; /* ç§»é™¤ç„¦ç‚¹æ—¶çš„é»˜è®¤è½®å»“ */
  border: 1px solid green; /* è®¾ç½®ç„¦ç‚¹æ—¶çš„è¾¹æ¡†é¢œè‰²ä¸ºç»¿è‰² */
}

.recipe-button:active {
  background-color: #616161; /* ç‚¹å‡»æ—¶çš„èƒŒæ™¯é¢œè‰² */
}
</style> -->

<template>
  <div class="container">
    <div class="search-bar">
      <input type="text" 
             class="search-input" 
             placeholder="Search dish..." 
             v-model="searchQuery"
             @input="filterRecipes" />
      <button class="search-button">
        ğŸ”
      </button>
    </div>
    <div class="button-container">
      <button v-for="(recipe, index) in filteredRecipes" 
              :key="index" 
              :id="'button' + (index + 1)" 
              :name="'button' + (index + 1)" 
              class="recipe-button">
        {{ recipe.recipe }}
      </button>
    </div>
  </div>
</template>

<script lang="ts">
import { useRecipeStore } from '@/stores/recipeStore';
import { toRefs, defineComponent, ref, computed, onMounted } from 'vue';

export default defineComponent({
name: 'Search',
setup() {
  const recipeStore = useRecipeStore();
  const { recipes } = toRefs(recipeStore);
  const searchQuery = ref('');

  const filterRecipes = () => {
    // è°ƒç”¨æœç´¢è¿‡æ»¤åŠŸèƒ½
    return recipes.value.filter((recipe) => {
      const query = searchQuery.value.toLowerCase();
      const recipeName = recipe.recipe.toLowerCase();
      // å¿½ç•¥å¤§å°å†™å’Œå•å¤æ•°å½±å“
      return recipeName.includes(query) || recipeName.includes(query.slice(0, -1));
    });
  };

  const filteredRecipes = computed(() => filterRecipes());

  return {
    recipes,
    searchQuery,
    filteredRecipes,
    filterRecipes,
  };
},
});
</script>

<style scoped>
.container {
display: flex;
flex-direction: column; /* å‚ç›´æ–¹å‘æ’åˆ—å­å…ƒç´  */
align-items: center; /* å­å…ƒç´ å±…ä¸­å¯¹é½ */
width: 100%; /* å®½åº¦100% */
padding: 20px; /* å†…è¾¹è·20px */
overflow-y: hidden; /* ç¦ç”¨å‚ç›´æ»šåŠ¨ */
}

.search-bar {
display: flex;
align-items: center; /* å­å…ƒç´ å±…ä¸­å¯¹é½ */
width: 100%; /* å®½åº¦100% */
max-width: 500px; /* æœ€å¤§å®½åº¦500px */
margin-top: 10px;
margin-bottom: 10px; /* å°†æœç´¢æ¡†åº•éƒ¨å¤–è¾¹è·ä¸º10px */
}

.search-input {
flex-grow: 1; /* è‡ªåŠ¨æ‰©å±•å®½åº¦ */
padding: 10px; /* å†…è¾¹è·10px */
font-size: 16px; /* å­—ä½“å¤§å°16px */
border: 1px solid #ccc; /* è¾¹æ¡†ä¸º1pxå®çº¿ç°è‰² */
border-radius: 5px 0 0 5px; /* è¾¹æ¡†åœ†è§’ */
}

.search-button {
margin-top: 0px;
padding: 10px; /* å†…è¾¹è·10px */
font-size: 16px; /* å­—ä½“å¤§å°16px */
border: 0px solid #ccc; /* è¾¹æ¡†ä¸º1pxå®çº¿ç°è‰² */
border-left: none; /* å·¦è¾¹æ¡†å–æ¶ˆ */
background-color: #c7e7fc; /* èƒŒæ™¯é¢œè‰²æ·¡è“è‰² */
color: white; /* æ–‡å­—é¢œè‰²ç™½è‰² */
border-radius: 0 5px 5px 0; /* è¾¹æ¡†åœ†è§’ */
cursor: pointer; /* é¼ æ ‡æŒ‡é’ˆæ ·å¼ä¸ºæ‰‹å‹ */
}

.button-container {
display: flex;
flex-wrap: wrap;
justify-content: center;
gap: 2px; /* æŒ‰é’®ä¹‹é—´çš„é—´è· */
width: 100%;
margin-top: 18px; /* å°†æŒ‰é’®å®¹å™¨é¡¶éƒ¨å¤–è¾¹è·ä¸º18px */
margin-left: -25px; /* è´Ÿè¾¹è·æ¥æŠµæ¶ˆæŒ‰é’®è‡ªå¸¦çš„å·¦è¾¹è· */
margin-right: -25px; /* è´Ÿè¾¹è·æ¥æŠµæ¶ˆæŒ‰é’®è‡ªå¸¦çš„å³è¾¹è· */

max-height: 800px; /* è®¾ç½®æœ€å¤§é«˜åº¦ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´ */
overflow-y: auto; /* å¯ç”¨å‚ç›´æ»šåŠ¨ */
}

.recipe-button {
width: calc(100% - 50px); /* æŒ‰é’®å®½åº¦ä¸ºé¡µé¢å®½åº¦å‡å»ä¸¤ä¾§è¾¹è·çš„æ€»å’Œ */
margin: 5px 25px; /* ä¸Šä¸‹é—´è·ä¸º5pxï¼Œå·¦å³é—´è·ä¸º25px */
padding: 10px; /* å†…è¾¹è·10px */
font-size: 14px; /* å­—ä½“å¤§å°16px */
color: #000000; /* æ–‡å­—é¢œè‰²é»‘è‰² */
background-color: #eff1f1; /* èƒŒæ™¯é¢œè‰²æµ…ç°è‰² */
border: none; /* ç§»é™¤æŒ‰é’®çš„è¾¹æ¡† */
border-radius: 5px; /* è¾¹æ¡†åœ†è§’ */
cursor: pointer; /* é¼ æ ‡æŒ‡é’ˆæ ·å¼ä¸ºæ‰‹å‹ */
text-align: center; /* æ–‡å­—å±…ä¸­å¯¹é½ */
transition: border-color 0.3s ease; /* æ·»åŠ è¾¹æ¡†é¢œè‰²è¿‡æ¸¡æ•ˆæœ */

box-shadow: 0px 4px 6px rgba(0, 0, 0.1, 0.1); /* æ·»åŠ é˜´å½±æ•ˆæœ */
}

.recipe-button:focus {
outline: none; /* ç§»é™¤ç„¦ç‚¹æ—¶çš„é»˜è®¤è½®å»“ */
border: 1px solid green; /* è®¾ç½®ç„¦ç‚¹æ—¶çš„è¾¹æ¡†é¢œè‰²ä¸ºç»¿è‰² */
}

.recipe-button:active {
background-color: #616161; /* ç‚¹å‡»æ—¶çš„èƒŒæ™¯é¢œè‰² */
}
</style>
